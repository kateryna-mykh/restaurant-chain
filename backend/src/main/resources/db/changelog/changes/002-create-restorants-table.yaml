databaseChangeLog:
  - changeSet:
      id: create-restorants-table
      author: kateryna-mykh
      changes:
      - createTable:
            tableName: restorants
            columns:
            - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                     primaryKey: true
                     nullable: false                
            - column:
                  name: location_address
                  type: varchar(255)
                  constraints:
                     nullable: false
            - column:
                  name: manager
                  type: varchar(255)
                  constraints:
                     nullable: false
            - column:
                  name: seets_capacity
                  type: integer
                  constraints:
                     nullable: false
            - column:
                  name: employees_number
                  type: integer
                  constraints:
                     nullable: false
            - column:
                  name: menu_items
                  type: clob
            - column:
                  name: chain_id
                  type: bigint
                  constraints:
                     nullable: false                
      - addForeignKeyConstraint:
            baseColumnNames: chain_id
            baseTableName: restorants
            constraintName: fk_restorants_chainId
            referencedColumnNames: id
            referencedTableName: restorant_chains
      - createIndex:
            tableName: restorants
            indexName: idx_address_lower
            unique: true
            columns:
                - column:
                    name: lower(location_address)
                    computed: true
